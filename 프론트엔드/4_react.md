### React Lifecycle 와 SPA

-   SPA : 하나의 HTML 페이지에서 브라우저가 동적으로 콘텐츠를 변경, rest api를 사용해 필요한 데이터를 비동기적으로 변경

더 나은 사용자 경험과 서버 부하 감소를 제공함

-   lifecycle :

생성 -> 마운트 -> 업데이트 -> 언마운트

생성 : 컴포넌트가 메모리에 생성, 초기 상태나 props 설정(constructor, useState)

마운트: 랜더링(화면에 그려짐), render 함수는 순수함수로 JSX가 HTML로 변환
랜더링 이후 첫 랜더링에만 실행되는 과정 실행(componentDidmount, useEffect)

업데이트: state/props 변경, 부모 컴포넌트 리랜더링 시 다시 화면에 그려짐

언마운트: 컴포넌트가 dom에서 제거, 불필요한 리소스 정리

### react 사용 이유

-   virtual dom 으로 필요한 부분만 랜더링(재조정)

-   컴포넌트 기반의 재사용성, 가독성

-   단방향 데이터 흐름을 통해 상태 관리를 단순화 => 안정성이 높음

-   큰 생태계

### 클래스 컴포넌트 vs 함수형 컴포너트

-   클래스 컴포넌트 : LifeCycle API와 state 기능

-   함수형 컴포너트 : hook을 통해 LifeCycle API와 state 기능 사용 가능

### JSX :

JavaScript 코드 안에서 HTML과 유사한 마크업

가독성 좋음, JS 기능 사용 가능

### Hooks

React Hooks는 다음과 같은 문제점들을 해결하기 위해 등장

1. 컴포넌트 간 상태 로직 재사용의 어려움
2. 복잡한 컴포넌트의 이해와 관리의 어려움
3. 클래스의 this 키워드로 인한 혼란
4. 생명주기 메서드의 비일관성

훅을 사용하는 이유 ⇒ 관심사를 분리하고 구조화하며 가독성, 재사용성

### Hooks 종류

1. useState

-   컴포넌트에 지역 상태를 추가할 수 있음
-   함수형 컴포넌트를 다시 렌더링하여 상태를 업데이트함
-   객체나 배열 상태는 항상 새로운 참조를 생성

2. useEffect

-   부수효과 처리(데이터 가져오기, 구독 설정, 수동으로 DOM 조작하기)
-   컴포넌트가 랜더링 이후 실행됨

3. useContext

-   전역 상태 관리 : props drilling 없이 컴포넌트 트리 전체에 데이터를 제공

useContext 사용 시 주의할 점

-   컨텍스트 값이 변경되면 해당 컨텍스트를 사용하는 모든 컴포넌트가 리렌더링
-   성능 최적화를 위해 필요한 경우 컨텍스트를 분리하거나 메모이제이션 이용
-   컨텍스트는 자주 변경되는 값보다는 테마, 인증 정보 등 비교적 안정적인 값에 적합

4. useMemo

-   계산 비용이 큰 함수의 결과값(값, 배열, 객체)을 메모이제이션하는 훅
-   모든 값에 사용하면 메모리 사용량을 증가시키고 초기 렌더링 성능을 저하

사용시점

객체나 배열을 생성하여 자식 컴포넌트에 전달할 때 (불필요한 리렌더링 방지)

의존성 배열에 사용되는 값을 계산할 때 (useEffect, useCallback 등에서)

5. useCallback

-   콜백함수 메모제이션
-   의존성 배열이 변경되지 않는 한, 동일한 함수 참조를 유지

사용시점

자식 컴포넌트에 함수를 prop으로 전달할 때 유용

6. useRef

-   반환된 ref 객체는 컴포넌트의 전체 생명주기 동안 유지
-   ref 객체의 .current 속성을 변경해도 리렌더링이 트리거되지 않음
-   DOM 요소에 접근, 이전 상태를 저장하는 등의 용도
-   useRef로 생성된 ref 객체는 컴포넌트가 언마운트될 때까지 유지. 메모리 누수를 일으킬 수 있으므로 필요하지 않은 경우 정리

### useEffect vs useLayoutEffect의 차이

-   useEffect는 DOM이 그려진 후 호출, 비동기호출

-   useLayoutEffect는 DOM이 그려지기 전 호출

### Props drilling

상위 컴포넌트에서 하위 컴포넌트까지 props가 깊게 중첩됨 => 구조가 복잡해져서 가독성과 유지보수가 안 좋아짐
